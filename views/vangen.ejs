<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Project BPR">
    <meta name="keywords" content="Pokémon, games, project">
    <meta name="author" content="El Mallaly Rouchdi, Serraji Bilal, Łagoda Patryk">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/styles/reset.css">
    <link rel="stylesheet" href="/styles/style.css">
</head>

<body>
    <header class="framed no-hd">
        <input type="checkbox" id="menu-toggle" class="hide" checked>
        <label id="hide-menu-button" for="menu-toggle">&#9776;</label>
        <nav>
            <ul>
                <li><a href="whoisthatpokemon">Quiz</a></li>
                <li><a href="team">Pokéteam</a></li>
                <li>
                    <a href="battler">VechtMatch</a>
                </li>
                <li><a href="vangen">Vang Pokémon</a></li>
                <li><a href="index">Log uit</a></li>
                <% user.userFlattenedPokemon .filter(element=> element.id == user.buddyId)
                    .map(element => { %>
                    <li class="buddy">
                        <a href="/pokemoninfo/<%= user.buddyId %>">
                            <img src="<%= element.spriteFront %>" alt="Selected Pokemon">
                        </a>
                        <% }); %>

                            <p class="center">Buddy</p>
                            </a>
                    </li>
            </ul>
        </nav>
    </header>
    <main>
        <section id="catch" class="framed party no-framed-primary">
            <h2 class="flipped">
                <%= message %>
            </h2>
            <h3 class="flipped">
                Resterende pogingen: <%= 4-tryAmount %>
            </h3>
            <input type="checkbox" id="catch-toggle" class="hide">
            <label for="catch-toggle">
                <img src="<%= pokemonToCatch.spriteFront %>" alt="Pokemon" class="pokemon-image">
            </label>
            <div id="catch-pokemon-details">
                <img src="<%= pokemonToCatch.spriteFront %>" alt="Pokemon" class="pokemon-image">

                <div id="catch-info">
                    <button id="catch-pokemon"></button>
                    <p id="catch-message"></p>
                    <% if(alreadyOwned && 3-tryAmount>0){%>
                        <form action="../vangen">
                            <button id="catch-pokemon">Laat
                                Pokémon
                                vrij, je hebt deze al in je team!<br><img src="/pokeball_green.png" alt="Pokeball"
                                    class="pokeball"></button>
                            <p id="catch-message"></p>
                        </form>
                        <% }else if(changeName==true){%>
                            <div class="container">
                                <form id="nochangename" action="../vangen">
                                    <button id="catch-pokemon">Zoek volgende Pokemon<br></button>
                                    <p id="catch-message"></p>
                                </form>
                                <form id="changename" method="post" action="../changeName/<%= pokemonToCatch.id %>">
                                    <input class="framed-no-hd" type="text" id="nameChangeInput" name="changeName"
                                        placeholder="Voer nieuwe Pokémon naam in">
                                    <button type="submit">Verander van naam</button>
                                    <p id="catch-message"></p>
                                </form>
                            </div>
                            <% }else{%>
                                <a href="./vangen"><button>
                                        Vang Pokémon<br><img src="/pokeball_red.png" alt="Pokeball" class="pokeball">
                                    </button></a>
                                <% }%>
                </div>
            </div>
        </section>
    </main>
    <footer>
        <p>&copy; BRP-projectgroep 2023-2024</p>
    </footer>
</body>

</html>